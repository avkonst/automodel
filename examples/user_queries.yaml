queries:
  - name: get_user_by_id
    sql: "SELECT id, name, email, created_at FROM users WHERE id = $1"
    description: "Retrieve a user by their ID"
    tags: ["user", "read"]

  - name: list_active_users
    sql: "SELECT id, name, email FROM users WHERE is_active = true ORDER BY name"
    description: "List all active users ordered by name"
    tags: ["user", "list"]

  - name: create_user
    sql: "INSERT INTO users (name, email, is_active) VALUES ($1, $2, $3) RETURNING id"
    description: "Create a new user and return the generated ID"
    tags: ["user", "create"]

  - name: update_user_email
    sql: "UPDATE users SET email = $2, updated_at = NOW() WHERE id = $1"
    description: "Update a user's email address"
    tags: ["user", "update"]

  - name: delete_user
    sql: "DELETE FROM users WHERE id = $1"
    description: "Delete a user by ID"
    tags: ["user", "delete"]

  - name: get_user_posts
    sql: |
      SELECT p.id, p.title, p.content, p.created_at, u.name as author_name
      FROM posts p
      JOIN users u ON p.user_id = u.id
      WHERE u.id = $1
      ORDER BY p.created_at DESC
    description: "Get all posts by a specific user"
    tags: ["user", "post", "join"]

  - name: count_users_by_status
    sql: "SELECT is_active, COUNT(*) as user_count FROM users GROUP BY is_active"
    description: "Count users grouped by their active status"
    tags: ["user", "statistics"]

metadata:
  version: "1.0"
  description: "User management queries for the application"
  author: "AutoModel Generator"
