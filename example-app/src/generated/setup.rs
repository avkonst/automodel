// This file was automatically generated by AutoModel. Do not edit manually.

/// Create the users table with all necessary fields
#[tracing::instrument(level = "debug", skip_all, fields(sql = "CREATE TABLE IF NOT EXISTS users (\n  id SERIAL PRIMARY KEY,\n  name TEXT NOT NULL,\n  email TEXT UNIQUE NOT NULL,\n  age INTEGER,\n  profile JSONB,\n  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),\n  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()\n)"))]
pub async fn create_users_table(executor: impl sqlx::Executor<'_, Database = sqlx::Postgres>) -> Result<(), super::ErrorReadOnly> {
    let query = sqlx::query(
        r"CREATE TABLE IF NOT EXISTS users (
          id SERIAL PRIMARY KEY,
          name TEXT NOT NULL,
          email TEXT UNIQUE NOT NULL,
          age INTEGER,
          profile JSONB,
          created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
          updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
        )"
    );
    query.execute(executor).await?;
    Ok(())
}

